<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detailansicht – KPIlytics</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
    <div class="logo">KPIlytics</div>
    <div class="top-right-icons">
      <svg onclick="toggleSettings()"><use href="#settings-icon"/></svg>
      <svg onclick="toggleUserMenu()"><use href="#user-icon"/></svg>
    </div>

    <div id="settings-menu" class="menu hidden">
      <a href="#">⚙️ Einstellungen</a><br />
      <a href="#">👤 Benutzer verwalten</a>
    </div>

    <div id="user-menu" class="menu hidden">
      <label><input type="checkbox" id="logout-switch" /> Ausloggen</label>
    </div>

    <div id="sidebar" class="sidebar hidden">
      <ul>
        <li><span class="icon">📁</span><a href="upload.html">Datei Upload</a></li>
        <li><span class="icon">📊</span><a href="detailansicht.html">Detailansicht</a></li>
        <li><span class="icon">💬</span><a href="#">Feedback</a></li>
      </ul>
    </div>
  </header>

  <main class="main-content">
    <!-- Filterbereich -->
    <div class="filters">
      <label>Bereich:
        <select id="bereichSelect">
          <option value="Rezeption">Rezeption</option>
          <option value="Vertrieb">Vertrieb</option>
        </select>
      </label>
      <label>KPI:
        <select id="kpiSelect">
          <option value="Umsatz">Umsatz</option>
          <option value="Besucher">Besucher</option>
          <option value="Conversion Rate">Conversion Rate</option>
        </select>
      </label>
      <label>Von:
        <input type="month" id="von" value="2024-01">
      </label>
      <label>Bis:
        <input type="month" id="bis" value="2024-05">
      </label>
      <label>
        <input type="checkbox" id="benchmarkToggle"> Benchmark anzeigen
      </label>
      <button class="filter-button" onclick="applyFilter()">Filter anwenden</button>
    </div>

    <!-- Diagrammtitel -->
    <div class="chart-title" id="chartTitle">Umsatz – Jan 2024 bis Mai 2024</div>

    <!-- Diagramm -->
    <div class="chart-container">
      <canvas id="chart1"></canvas>
    </div>

    <!-- KI-Hinweise -->
    <div class="ki-analysis" id="kiHints">
      <!-- Dynamisch per JS -->
    </div>
  </main>

  <footer>
    <a href="#">Impressum</a>
    <a href="#">AGB</a>
    <a href="#">Kontakt</a>
  </footer>

  <!-- Dummy SVGs für Icons -->
  <svg style="display: none;">
    <symbol id="settings-icon" viewBox="0 0 16 16">
      <path d="M9.6 0l-.4 1.6H6.8L6.4 0H4v2.4h1.2l-.4 1.6H4v2.4h1.2l-.4 1.6H4v2.4h1.2l-.4 1.6H4V16h2.4l.4-1.6h2.4l.4 1.6H12v-2.4h-1.2l.4-1.6H12v-2.4h-1.2l.4-1.6H12V6.4h-1.2l.4-1.6H12V2.4h-2.4l-.4 1.6H6.8L6.4 2.4H4V0h2.4l.4 1.6h2.4L9.6 0z"/>
    </symbol>
    <symbol id="user-icon" viewBox="0 0 16 16">
      <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4 1H4a4 4 0 0 0-4 4v1h16v-1a4 4 0 0 0-4-4z"/>
    </symbol>
  </svg>

  <script src="detailansicht.js"></script>
</body>
</html>
