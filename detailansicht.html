<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KPIlytics – Detailansicht</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
    <div class="logo">KPIlytics</div>
    <div class="top-right-icons">
      <svg onclick="toggleSettings()" class="settings-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
        <path d="M9.9 1.2L9.6 0h-3.1l-.3 1.2c-.5.1-1 .4-1.5.7L3 1 0 4l1 1.5c-.3.5-.6 1-.7 1.5L0 9.6v3.1l1.2.3c.1.5.4 1 .7 1.5L1 13l3-3 1.5 1c.5-.3 1-.6 1.5-.7l.3 1.2h3.1l.3-1.2c.5-.1 1-.4 1.5-.7L13 13l3-3-1-1.5c.3-.5.6-1 .7-1.5l1.2-.3V6.4l-1.2-.3c-.1-.5-.4-1-.7-1.5L16 3l-3 3-1.5-1c-.5.3-1 .6-1.5.7z"/>
      </svg>
      <svg onclick="toggleUserMenu()" class="user-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
        <path d="M8 0a4 4 0 110 8 4 4 0 010-8zm0 9c-3 0-8 1.5-8 4.5V16h16v-2.5c0-3-5-4.5-8-4.5z"/>
      </svg>
    </div>
    <div id="settings-menu" class="menu hidden">
      <strong>⚙️ Einstellungen</strong><br />
      <a href="#">Benutzer verwalten</a>
    </div>
    <div id="user-menu" class="menu hidden">
      <label><input type="checkbox" id="logout-switch" /> Ausloggen</label>
    </div>
    <div id="sidebar" class="sidebar hidden">
      <ul>
        <li><svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M3.75 2a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5z"/></svg><a href="upload.html">Datei Upload</a></li>
        <li><svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M9.243 3 0 0 -2.995 2.824 4.502 4.502Z"/></svg><a href="detailansicht.html">Detailansicht</a></li>
        <li><svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M2.5 5a1.5 1.5 0 0 1 3 0v1h-3V5Z"/></svg><a href="feedback.html">Feedback</a></li>
      </ul>
    </div>
  </header>

  <main class="main-content">
    <div class="filters">
      <label for="kpiSelect">KPI:</label>
      <select id="kpiSelect" onchange="updateDetailChart()">
        <option value="umsatz">Umsatz</option>
        <option value="besucher">Besucher</option>
        <option value="conversion">Conversion Rate</option>
      </select>

      <label for="zeitraum">Zeitraum:</label>
      <input type="month" id="startDate" value="2024-01" />
      <input type="month" id="endDate" value="2024-05" />

      <label><input type="checkbox" id="benchmarkToggle" onchange="updateDetailChart()" /> Benchmark anzeigen</label>
    </div>

    <div class="chart-container">
      <canvas id="detailChart"></canvas>
    </div>

    <section class="ai-hints" id="aiHints">
      <!-- Dynamisch per JS generiert -->
    </section>

    <div class="filters">
      <label><input type="checkbox" id="hideHints" onchange="toggleHints()"> KI-Hinweise ausblenden</label>
    </div>
  </main>

  <footer>
    <a href="#">Impressum</a>
    <a href="#">AGB</a>
    <a href="#">Kontakt</a>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="detailansicht.js"></script>
</body>
</html>
