<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KPIlytics – Analyse</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <header>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
    <div class="logo">KPIlytics</div>
    <div class="top-right-icons">
      <!-- Settings -->
      <svg onclick="toggleSettings()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
        <path d="M9.243 3a3 3 0 0 0-2.995 2.824A4.502 4.502 0 0 0 8 14a4.5 4.5 0 0 0 1.243-8.824A3 3 0 0 0 9.243 3z"/>
      </svg>
      <!-- User -->
      <svg onclick="toggleUserMenu()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
        <path d="M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM4 13s1-1 4-1 4 1 4 1-1 1-4 1-4-1-4-1z"/>
      </svg>
    </div>

    <div id="settings-menu" class="menu hidden">
      <div><strong>Einstellungen</strong></div>
      <a href="#">Benutzer verwalten</a>
    </div>

    <div id="user-menu" class="menu hidden">
      <label><input type="checkbox" id="logout-switch" /> Ausloggen</label>
    </div>

    <div id="sidebar" class="sidebar hidden">
      <ul>
        <li><svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M3.75 2a.75.75 0 0 1 .5.75v.5h8.5a.75.75 0 0 1 0 1.5H4.25v.5a.75.75 0 0 1-1.5 0V2.75A.75.75 0 0 1 3.75 2z"/></svg><a href="upload.html">Datei Upload</a></li>
        <li><svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M9.243 3a3 3 0 0 0-2.995 2.824A4.502 4.502 0 0 0 8 14a4.5 4.5 0 0 0 1.243-8.824A3 3 0 0 0 9.243 3z"/></svg><a href="detailansicht.html">Analyse</a></li>
        <li><svg class="icon" viewBox="0 0 16 16" fill="currentColor"><path d="M2.5 5.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/></svg><a href="feedback.html">Feedback</a></li>
      </ul>
    </div>
  </header>

  <main class="main-content">
    <!-- Filter + Chart -->
    <div class="filters">
      <label for="kpi-filter">Filter:</label>
      <select id="kpi-filter" onchange="updateDetailChart()">
        <option value="conversion">Conversion Rate</option>
        <option value="besucher">Besucher</option>
        <option value="umsatz">Umsatz</option>
      </select>
      <label>
        <input type="checkbox" id="benchmark-toggle" onchange="updateDetailChart()" />
        Benchmark anzeigen
      </label>
    </div>

    <div class="chart-container">
      <canvas id="chart1"></canvas>
    </div>

    <!-- KI-Auswertung -->
    <section class="hints" id="ai-hints-section">
      <div class="hint-bubble">Die Nutzerzahlen haben sich im Vergleich zum letzten Monat um 18 % erhöht.</div>
      <div class="hint-bubble">Die Conversion Rate ist bei Mobilgeräten höher als bei Desktop-Besuchern.</div>
      <label>
        <input type="checkbox" id="toggle-hints" onchange="toggleHints()" />
        KI-Hinweise ausblenden
      </label>
    </section>
  </main>

  <footer>
    <a href="#">Impressum</a>
    <a href="#">AGB</a>
    <a href="#">Kontakt</a>
  </footer>

  <script src="detailansicht.js"></script>
</body>
</html>
