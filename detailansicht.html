<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KPIlytics – Detailansicht</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
    <div class="logo">KPIlytics</div>
    <div class="top-right-icons">
      <!-- Settings -->
      <svg onclick="toggleSettingsMenu()" class="settings-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
        <path d="M9.6 0L9 2H7L6.4 0H4L4.6 2.2A6.98 6.98 0 003 5L0.6 5.6V8.4L3 9A6.98 6.98 0 004.6 13.8L4 16H6.4L7 14H9L9.6 16H12L11.4 13.8A6.98 6.98 0 0013 9l2.4-.6V5.6L13 5a6.98 6.98 0 00-1.6-2.8L12 0H9.6z"/>
      </svg>

      <!-- User -->
      <svg onclick="toggleUserMenu()" class="user-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
        <path d="M8 9a5 5 0 100-10 5 5 0 000 10zm0 1c-3 0-9 1.5-9 4.5V16h18v-1.5C17 11.5 11 10 8 10z"/>
      </svg>
    </div>

    <div id="settings-menu" class="menu hidden">
      <a href="#">⚙️ Einstellungen</a><br />
      <a href="#">👤 Benutzer verwalten</a>
    </div>

    <div id="user-menu" class="menu hidden">
      <label><input type="checkbox" id="logout-switch" /> Ausloggen</label>
    </div>

    <div id="sidebar" class="sidebar hidden">
      <ul>
        <li><span class="icon">📤</span><a href="upload.html">Datei Upload</a></li>
        <li><span class="icon">📊</span><a href="detailansicht.html">Detailansicht</a></li>
        <li><span class="icon">💬</span><a href="feedback.html">Feedback</a></li>
      </ul>
    </div>
  </header>

  <main class="main-content">
    <div class="filters">
      <label for="kpiSelect">KPI:</label>
      <select id="kpiSelect">
        <option value="umsatz">Umsatz</option>
        <option value="besucher">Besucher</option>
        <option value="conversion">Conversion Rate</option>
      </select>

      <label for="startDate">Start:</label>
      <input type="month" id="startDate" value="2024-01" />

      <label for="endDate">Ende:</label>
      <input type="month" id="endDate" value="2024-05" />

      <label><input type="checkbox" id="benchmarkToggle" /> Benchmark anzeigen</label>
      <button onclick="updateDetailChart()" class="filter-button">Filter anwenden</button>
    </div>

    <h2 id="chartTitle">Umsatz – Jan bis Mai 2024</h2>
    <div class="chart-container">
      <canvas id="detailChart"></canvas>
    </div>

    <div class="ai-section">
      <h3>KI-basierte Analyse</h3>
      <div id="aiHints" class="ai-hints"></div>
      <label><input type="checkbox" id="hideHints" onchange="toggleHints()" /> KI-Hinweise ausblenden</label>
    </div>
  </main>

  <footer>
    <a href="#">Impressum</a>
    <a href="#">AGB</a>
    <a href="#">Kontakt</a>
  </footer>

  <script src="detailansicht.js"></script>
</body>
</html>
