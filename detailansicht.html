<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KPIlytics – Detailansicht</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <button class="menu-toggle" onclick="toggleSidebar()">☰</button>
    <div class="logo">KPIlytics</div>
    <div class="top-right-icons">
      <!-- Settings Icon -->
      <svg onclick="toggleSettingsMenu()" class="settings-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
        <path d="M9.5 1a1.5 1.5 0 00-3 0h-2a.5.5 0 000 1H6.5v1.02a5.5 5.5 0 00-2.8 1.63l-.72-.72a.5.5 0 10-.71.71l.72.72a5.5 5.5 0 00-1.63 2.8H1.5a.5.5 0 000 1h1.02a5.5 5.5 0 001.63 2.8l-.72.72a.5.5 0 10.71.71l.72-.72a5.5 5.5 0 002.8 1.63V14.5a.5.5 0 001 0V13.48a5.5 5.5 0 002.8-1.63l.72.72a.5.5 0 10.71-.71l-.72-.72a5.5 5.5 0 001.63-2.8H14.5a.5.5 0 000-1h-1.02a5.5 5.5 0 00-1.63-2.8l.72-.72a.5.5 0 00-.71-.71l-.72.72a5.5 5.5 0 00-2.8-1.63V2.5a.5.5 0 00-1 0V3.48a5.5 5.5 0 00-2.8 1.63V2H9.5a.5.5 0 000-1h-2z"/>
      </svg>
      <!-- User Icon -->
      <svg onclick="toggleUserMenu()" class="user-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
        <path d="M8 8a3 3 0 100-6 3 3 0 000 6zm4 1H4a4 4 0 00-4 4v1a1 1 0 001 1h14a1 1 0 001-1v-1a4 4 0 00-4-4z"/>
      </svg>
    </div>

    <!-- Settings Dropdown -->
    <div id="settings-menu" class="menu hidden">
      <div><strong>Einstellungen</strong></div>
      <a href="#">Benutzer verwalten</a>
    </div>

    <!-- User Dropdown -->
    <div id="user-menu" class="menu hidden">
      <label><input type="checkbox" id="logout-switch" /> Ausloggen</label>
    </div>

    <!-- Sidebar -->
    <div id="sidebar" class="sidebar hidden">
      <ul>
        <li><span class="icon">📁</span><a href="upload.html">Datei Upload</a></li>
        <li><span class="icon">📊</span><a href="detailansicht.html">Detailansicht</a></li>
        <li><span class="icon">💬</span><a href="feedback.html">Feedback</a></li>
      </ul>
    </div>
  </header>

  <main class="main-content">
    <div class="chart-card">
      <!-- Filter -->
      <div class="filters">
        <label for="filter">Filter:</label>
        <select id="filter" onchange="updateDetailChart()">
          <option value="conversion">Conversion Rate</option>
          <option value="besucher">Besucher</option>
          <option value="umsatz">Umsatz</option>
        </select>
      </div>

      <!-- Chart -->
      <div class="chart-container">
        <canvas id="detailChart"></canvas>
      </div>
    </div>

    <!-- KI-Hinweise -->
    <section class="ki-analysis">
      <div class="ai-bubble">
        <div class="ai-icon"></div>
        Die Nutzerzahlen haben sich im Vergleich zum letzten Monat um 18 % erhöht.
      </div>
      <div class="ai-bubble">
        <div class="ai-icon"></div>
        Die Conversion Rate ist bei Mobilgeräten höher als bei Desktop-Besuchern.
      </div>

      <label class="ki-toggle">
        <input type="checkbox" id="hide-hints" onchange="toggleKiHinweise()" />
        KI-Hinweise ausblenden
      </label>
    </section>
  </main>

  <footer>
    <a href="#">Impressum</a>
    <a href="#">AGB</a>
    <a href="#">Kontakt</a>
  </footer>

  <script src="detailansicht.js"></script>
</body>
</html>
